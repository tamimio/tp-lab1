class Iterator
{
	bool hasMore() {...}
	FileItem * Next() {...}
};

Iterator it;
FileItem *p;
while (it.hasMore())
{
	p=it.Next();
	p->show();
	delete p;
}